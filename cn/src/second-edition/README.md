# 升级智能体系统

欢迎阅读"构建智能体系统"的第二版。本书通过深入分析 Amp（Sourcegraph 的多用户 AI 开发平台），探索从本地优先的 AI 编程助手到协作式、基于服务器的系统的演进。

## 本版新内容

第一版聚焦于构建像 Claude Code 这样的单用户 AI 编程助手，而本版应对将其扩展到团队的挑战：

- **服务器优先架构**，支持实时协作
- **多用户工作流**，包含存在感知、权限和共享功能
- **企业模式**，用于认证、用量跟踪和合规
- **生产部署**策略，支持数千并发用户
- **多智能体编排**，处理复杂的分布式任务

## 本书适合谁

本书为构建下一代 AI 开发工具的工程师编写：

- 正在设计生产 AI 系统的高级工程师
- 正在实现协作式 AI 工作流的技术负责人
- 正在设计多租户架构的平台工程师
- 正从本地优先向云原生 AI 工具过渡的开发者

## 你将学到什么

通过来自 Amp 实现的实际示例和真实代码，你将了解：

1. 基于服务器的 AI 系统的**架构模式**
2. 实时协作的**同步策略**
3. 支持团队层级的**权限模型**
4. LLM 密集型工作负载的**性能优化**
5. 从 SSO 到用量分析的**企业特性**

## 如何阅读本书

本书分为六个部分：

- **第一部分：基础** - 核心概念和架构概览
- **第二部分：核心系统** - 线程、同步和工具执行
- **第三部分：协作** - 多用户特性和权限
- **第四部分：高级模式** - 编排和扩展
- **第五部分：实现** - 构建和迁移系统
- **第六部分：未来** - 新兴模式和生态系统演进

每章在之前概念的基础上构建，同时保持足够的独立性以作为参考使用。

## 代码示例

所有代码示例均来自 Amp 的实际实现，可在 `amp/` 目录中找到。请留意以下模式：

```typescript
// Observable-based state management
export class ThreadService {
  private threads$ = new BehaviorSubject<Thread[]>([]);
  
  getThreads(): Observable<Thread[]> {
    return this.threads$.asObservable();
  }
}
```

## 开始阅读

准备好构建协作式 AI 系统了吗？让我们从第一章开始，探索从本地优先的 Claude Code 到基于服务器的 Amp 的旅程，以及这种演进对 AI 辅助开发未来的意义。
